(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41964656"],{"2f1e":function(t,e,a){"use strict";var i=a("59e4"),n=a.n(i);n.a},"3b1a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.fetchData}},[t._v(" 搜索 ")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:t.showOrdinary}},[t._v("普通管理员")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:t.showSuper}},[t._v("超级管理员")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:t.showAll}},[t._v("全部")])],1),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{"border-radius":"8px",border:"0px","margin-bottom":"20px"},attrs:{data:t.nameList,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":"","header-cell-style":t.setSellStyle}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"ID",width:"165"}}),a("el-table-column",{attrs:{align:"center",prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{align:"center",prop:"nickName",label:"昵称"}}),a("el-table-column",{attrs:{align:"center",prop:"email",label:"邮箱",width:"200"}}),a("el-table-column",{attrs:{align:"center",prop:"phone",label:"电话"}}),a("el-table-column",{attrs:{align:"center",prop:"note",label:"备注信息"}}),a("el-table-column",{attrs:{align:"center",label:"账号状态",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(1==e.row.status?"启用":"禁用"))])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"name",label:"用户角色",width:"110"}}),a("el-table-column",{attrs:{align:"center",prop:"description",label:"角色描述",width:"180"}}),a("el-table-column",{attrs:{align:"center",width:"300px",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return t.open(e.$index,e.row)}}},[t._v("修改账号状态")]),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return t.updateRole(e.$index,e.row)}}},[t._v("修改角色")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.deleteMember(e.$index)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticClass:"showPage",attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","current-page":t.pageNum,"page-size":t.pageSize,"page-sizes":[1,10,20,50],total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])},n=[],s=(a("b0c0"),a("b775")),l={name:"userlist",data:function(){return{allUser:!0,listLoading:!0,username:void 0,total:0,className:2222,loading:!1,dialogFormVisible:!1,currentID:0,roleID:2,pageNum:1,pageSize:10,admin:{email:"",phone:"",nickName:"",note:"",icon:"",status:1},nameList:[]}},created:function(){this.getList()},methods:{setSellStyle:function(t){t.row,t.column,t.rowIndex,t.columnIndex;return"background-color:#409EFF;color:#fff;font-wight:200;font-size:15px;"},handleSizeChange:function(t){this.pageSize=t,this.getList()},handleCurrentChange:function(t){this.pageNum=t,this.getList()},showOrdinary:function(){this.allUser=!1,this.pageNum=1,this.roleID=2,this.getList()},showSuper:function(){this.allUser=!1,this.pageNum=1,this.roleID=5,this.getList()},showAll:function(){this.allUser=!0,this.pageNum=1,this.getList()},open:function(t){this.currentID=this.nameList[t].id,this.admin=Object.assign({},this.nameList[t]),this.admin.status=1==this.nameList[t].status?0:1,console.log(this.admin),this.update()},updateRole:function(t){this.currentID=this.nameList[t].id;var e="超级管理员"==this.nameList[t].name?2:5,a=this;Object(s["c"])("/sys-user/admin/role/update?adminId="+this.currentID+"&roleIds="+e).then((function(t){a.$message({message:"修改成功",type:"success"}),a.getList()}))},cancelEdit:function(){this.dialogFormVisible=!1,this.$message("已取消编辑")},confirm:function(t){var e=this,a=this;this.$confirm("此操作将彻底删除该用户账号信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.deleteMember(a.nameList[t].id)})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},update:function(){var t=this;t.dialogFormVisible=!1,Object(s["b"])("/sys-user/admin/updateStatus/"+t.currentID).then((function(e){t.$message({message:"修改成功！",type:"success"}),t.getList(),t.admin=[]}))},getList:function(){var t=this,e=this;this.listLoading=!0,1==this.allUser?Object(s["b"])("/sys-user/admin/listAllByPage",{pageNum:e.pageNum,pageSize:e.pageSize}).then((function(a){console.log(a.data),t.listLoading=!1,e.nameList=a.data.list,e.total=parseInt(a.data.total)})).catch((function(e){t.listLoading=!1,console.log(e)})):Object(s["b"])("/sys-user/admin/listByPage",{id:e.roleID,pageNum:e.pageNum,pageSize:e.pageSize}).then((function(a){console.log(a.data),t.listLoading=!1,e.nameList=a.data.list,e.total=parseInt(a.data.total)})).catch((function(e){t.listLoading=!1,console.log(e)}))},fetchData:function(){var t=this,e=this;this.listLoading=!0,Object(s["b"])("/sys-user/admin/searchByUsername",{username:e.username,pageNum:e.pageNum,pageSize:e.pageSize}).then((function(a){console.log(a.data),t.listLoading=!1,e.nameList=a.data.list,e.total=parseInt(a.data.total)})).catch((function(e){t.listLoading=!1,console.log(e)}))},deleteMember:function(t){var e=this,a=e.nameList[t].id;Object(s["c"])("/sys-user/admin/delete/"+a).then((function(t){e.$message({message:"删除成功",type:"success"}),e.getList()}))}}},o=l,r=(a("2f1e"),a("2877")),c=Object(r["a"])(o,i,n,!1,null,"b52b7dfe",null);e["default"]=c.exports},"59e4":function(t,e,a){}}]);