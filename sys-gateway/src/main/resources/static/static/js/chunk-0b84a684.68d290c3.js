(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b84a684"],{5403:function(t,e,a){"use strict";var i=a("ed08");e["a"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=Object(i["a"])((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},"817d":function(t,e,a){var i,o,n;(function(s,r){o=[e,a("313e")],i=r,n="function"===typeof i?i.apply(e,o):i,void 0===n||(t.exports=n)})(0,(function(t,e){var a=function(t){"undefined"!==typeof console&&console&&console.error&&console.error(t)};if(e){var i=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],o={color:i,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:i[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{color:"#008acd",borderColor:"#008acd"},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{color:"#d87a80",color0:"#2ec7c9"},lineStyle:{width:1,color:"#d87a80",color0:"#2ec7c9"},areaStyle:{color:"#2ec7c9",color0:"#b6a2de"}},scatter:{symbol:"circle",symbolSize:4},map:{itemStyle:{color:"#ddd"},areaStyle:{color:"#fe994e"},label:{color:"#d87a80"}},graph:{itemStyle:{color:"#d87a80"},linkStyle:{color:"#2ec7c9"}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};e.registerTheme("macarons",o)}else a("ECharts is not Loaded")}))},a842:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("个人中心")])]),a("div",{staticClass:"name-role"},[a("el-image",{staticStyle:{"border-radius":"10px"},attrs:{src:t.dataForm.icon}})],1),a("div",{staticClass:"name-role"},[a("span",{staticClass:"sender"},[t._v("用户名 - "+t._s(t.dataForm.username))])]),a("div",{staticClass:"name-role"},[a("span",{staticClass:"sender"},[t._v("用户角色 - "+t._s(t.dataForm.roles[0]))])]),a("div",{staticClass:"name-role"},[a("span",{staticClass:"sender"},[t._v("公司名称 - "+t._s(t.dataForm.company))])]),a("el-divider"),a("div",{staticClass:"name-role"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],attrs:{type:"primary"},on:{click:t.editContent}},[t._v("编辑")])],1)],1),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("过往登录地址统计")])]),a("div",{staticClass:"name-role"},[a("pie-chart",{attrs:{pieChartData:t.pieChartData}})],1)])],1),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("基本资料")])]),a("div",[a("el-form",{attrs:{"label-width":"80px",size:"small","label-position":"right"},model:{value:t.dataObject,callback:function(e){t.dataObject=e},expression:"dataObject"}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickname"}},[a("el-input",{attrs:{disabled:t.edit,"auto-complete":"off"},model:{value:t.dataObject.nickName,callback:function(e){t.$set(t.dataObject,"nickName",e)},expression:"dataObject.nickName"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{disabled:t.edit,"auto-complete":"off"},model:{value:t.dataObject.phone,callback:function(e){t.$set(t.dataObject,"phone",e)},expression:"dataObject.phone"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{disabled:t.edit,"auto-complete":"off"},model:{value:t.dataObject.email,callback:function(e){t.$set(t.dataObject,"email",e)},expression:"dataObject.email"}})],1),a("el-form-item",{attrs:{label:"个人介绍",prop:"note"}},[a("el-input",{attrs:{disabled:t.edit,"auto-complete":"off"},model:{value:t.dataObject.note,callback:function(e){t.$set(t.dataObject,"note",e)},expression:"dataObject.note"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}],attrs:{size:"mini",type:"primary"},on:{click:t.commit}},[t._v("提交")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}],attrs:{size:"mini",type:"warning"},on:{click:t.cancel}},[t._v("关闭")])],1)],1)])],1),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("当前用户登录次数统计")])]),a("div",[a("el-col",[a("div",{staticClass:"chart-wrapper"},[a("bar-chart",{attrs:{barChartData:t.barChartData}})],1)])],1)])],1)],1)],1)},o=[],n=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})}),s=[],r=a("313e"),l=a.n(r),c=a("5403");a("817d");var d=6e3,h={mixins:[c["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},barChartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{barChartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=l.a.init(this.$el,"macarons"),this.setOptions(this.barChartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.xdata,a=t.ydata;this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:e,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"当天登陆次数",type:"bar",barWidth:"35px",data:a,animationDuration:d}]})}}},u=h,p=a("2877"),m=Object(p["a"])(u,n,s,!1,null,null,null),f=m.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},g=[];a("817d");var v={mixins:[c["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"400px"},pieChartData:{type:Object,required:!0}},data:function(){return{chart:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},watch:{pieChartData:{deep:!0,handler:function(t){this.setOptions(t)}}},methods:{initChart:function(){this.chart=l.a.init(this.$el,"macarons"),this.setOptions(this.pieChartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.categories,a=t.data;this.chart.setOption({color:["#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:e},series:[{name:"过往登录地址统计",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:a,animationEasing:"cubicInOut",animationDuration:2600}]})}}},y=v,C=Object(p["a"])(y,b,g,!1,null,null,null),x=C.exports,_=a("b775"),w={chartInfo:{xdata:[],ydata:[]}},S={chartInfo:{categories:[],data:[]}},O={data:function(){return{barChartData:w.chartInfo,pieChartData:S.chartInfo,chart:null,edit:!0,dataForm:{email:"",phone:"",username:"",nickName:"",note:"",icon:"",roles:[],company:""},dataObject:{username:"",email:"",phone:"",nickName:"",note:"",icon:""},roleID:2,loginLog:[],loginRegion:[]}},components:{BarChart:f,PieChart:x},mounted:function(){this.fetchData()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{cancel:function(){this.edit=!0},commit:function(){this.edit=!0,this.update()},editContent:function(){this.edit=!1},fetchData:function(){var t=this,e=this;this.listLoading=!0,this.$store.dispatch("user/getInfo",this.loginForm).then((function(a){for(var i in console.log(a),t.dataForm=Object.assign({},a),e.dataObject)e.dataObject[i]=a[i];console.log(t.dataObject),Object(_["b"])("/sys-user/admin/login/log/day",{username:t.dataForm.username}).then((function(t){for(var a in e.loginLog=t.data.list,console.log(e.loginLog),e.barChartData.xdata=[],e.barChartData.ydata=[],e.loginLog)console.log(a),e.barChartData.xdata.unshift(e.loginLog[a].loginTime),e.barChartData.ydata.unshift(e.loginLog[a].count);console.log(e.barChartData.xdata),console.log(e.barChartData.ydata)})),Object(_["b"])("/sys-user/admin/login/region",{username:t.dataForm.username}).then((function(t){for(var a in e.loginRegion=t.data.list,console.log(e.loginRegion),e.pieChartData.categories=[],e.pieChartData.data=[],e.loginRegion)console.log(a),e.pieChartData.categories.unshift(e.loginRegion[a].name),e.pieChartData.data.unshift(e.loginRegion[a]);console.log(e.pieChartData.categories),console.log(e.pieChartData.data)}))}))},update:function(){var t=this;console.log(t.dataObject),Object(_["c"])("/sys-user/admin/update/user",t.dataObject).then((function(e){t.$message({message:"修改成功！",type:"success"}),t.getList(),t.admin=[]}))}}},$=O,D=(a("c19c"),Object(p["a"])($,i,o,!1,null,"d96721fa",null));e["default"]=D.exports},c19c:function(t,e,a){"use strict";var i=a("c4d9"),o=a.n(i);o.a},c4d9:function(t,e,a){},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("4160"),a("c975"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("4d90"),a("5319"),a("1276"),a("159b"),a("53ca");function i(t,e,a){var i,o,n,s,r,l=function l(){var c=+new Date-s;c<e&&c>0?i=setTimeout(l,e-c):(i=null,a||(r=t.apply(n,o),i||(n=o=null)))};return function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];n=this,s=+new Date;var h=a&&!i;return i||(i=setTimeout(l,e)),h&&(r=t.apply(n,c),n=c=null),r}}}}]);